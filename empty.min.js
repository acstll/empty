/**
 * empty - Evented object and array operations with the events library of your choice.
 * @version v0.3.0
 * @link https://github.com/acstll/empty.git
 * @license MIT
 */
!function(){"use strict";function t(){if(!t.config.events)throw new Error("You need to call Empty.configure before using Empty");return this instanceof t?("function"==typeof t.config.events&&t.config.events.call(this),this.map=u({},t.config.map),void(this.idKey=t.config.idKey)):arguments.length>0?t.wrap.apply(null,arguments):new t}function n(t){return function(){var n=[].slice.call(arguments);return"object"==typeof this.origin&&n.unshift(this.origin),t.apply(this,n)}}function i(n,i,e){return Array.isArray(n)&&"number"==typeof i?(n[i]=e,e):t.config.set(n,i,e)}function e(n,i,e,r){var o,u;return o=t.config.set(i,e),u=n(o,r),t.config.set(i,e,u)}function r(n,i){return t.config.set(n,i,void 0)}function o(n,i){return Array.isArray(n)&&"number"==typeof i?n[i]:t.config.set(n,i)}function u(t){var n=[].slice.call(arguments,1);return n.forEach(function(n){var i;for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}),t}function c(t,n){var i;return"function"==typeof n?(i=u({},t.prototype),t.prototype=Object.create(n.prototype),u(t.prototype,i)):u(t.prototype,n),t}function s(i,e){var r=t.config.delimiter;Object.keys(i).forEach(function(o){t.prototype[o]=n(function(n){var u=e?[].slice.call(arguments,1):arguments,c=e?n:null,s=n[t.config.idKey],f=i[o].apply(c,u);return this._emit(o,n,f),s&&(this._emit([o,s].join(r),n,f),this._emit(["change",s].join(r),n,f,o)),f})})}var f={idKey:"id",name:"empty",delimiter:":",events:null,map:{emit:"emit"},methods:{},"native":["filter","map","push","pop","reverse","shift","sort","splice","unshift"],set:function(t,n,i){return 3===arguments.length&&(t[n]=i),t[n]}};try{module.exports=t}catch(p){"undefined"!=typeof window&&(window.Empty=t)}t.configure=function(n){var i={},e=n.events;if(e)c(t,e),t.config.events=e;else if(!t.config.events)throw new Error("options.events should refer to an EventEmitter library");t.config=u({},f,n),t.config.native.forEach(function(t){"function"==typeof Array.prototype[t]&&(i[t]=Array.prototype[t])}),s(i,!0),s(t.config.methods)},t.wrap=function(n,i){var e,r;return n=n||{},"undefined"!=typeof i&&(n[t.config.idKey]=i),"function"==typeof n?(e=[].slice.call(arguments,1),r=Object.create(n.prototype),n.apply(r,e),(new t).bind(r)):(new t).bind(n)},t.mixin=c,t.assign=u,t.config=f,t.VERSION="0.3.0",t.prototype._emit=function(){this[this.map.emit].apply(this,arguments)},t.prototype.bind=function(t){if("object"==typeof this.origin)throw new Error("Cannot call #bind on an already bound Empty instace");return this.origin=t,this.previous={},"function"==typeof this.initialize&&this.initialize.apply(this),this},t.prototype.id=n(function(){return"object"==typeof this.origin?this.origin[t.config.idKey]:void 0}),t.prototype.set=n(function(n,e,u){var c,s,f,p,a=e[t.config.idKey]||n[t.config.idKey],l=Object.create(null),y=t.config.delimiter;for(c in e)p=e[c],s=o(n,c),"string"==typeof u?i[u](n,c,p):(f=p?i:r)(n,c,p),s!==p&&(i(l,c+"",s),a&&this._emit(["change",c,a].join(y),n),this._emit(["change",c].join(y),n));return Object.keys(l).length>0&&(this.previous&&(this.previous=l),this._emit("change",n)),n}),t.prototype.get=n(function(t,n){return o(t,n)}),t.prototype.unset=n(function(t,n){return this.set(t,n,void 0)}),t.prototype.toJSON=function(){return this.origin},i.push=function(){function t(t,n){return t.push(n),t}var n=[].slice.call(arguments);return n.unshift(t),e.apply(null,n)},i.pop=function(){function t(t,n){return t.pop(n),t}var n=[].slice.call(arguments);return n.unshift(t),e.apply(null,n)},i.concat=function(){function t(t,n){return t.concat(n)}var n=[].slice.call(arguments);return n.unshift(t),e.apply(null,n)},i.inc=function(){function t(t,n){return n?t+n:t+1}var n=[].slice.call(arguments);return n.unshift(t),e.apply(null,n)},i.toggle=function(){function t(t){return!t}var n=[].slice.call(arguments);return n.unshift(t),e.apply(null,n)}}();